---
id: 1747143052-XYME
alias: null
tags: []
---
# Able to run web service (wsl2) on other computer with same local connection

The web service it's serves by docker that installed directly on wsl2 in this case are archlinux. Docker published port 80. Even tho we can access on windows host with [http://localhost](http://localhost) but accessing directly with windows host IP's is not working, cause the wsl2 it's use virtual interface things. Even after able to accessing directly the windows host IP's in windows host, there are still case we can't unable to access in other machine with same local network. So here is what i do.
## Create inbound firewall rule on certain ports

```powershell
New-NetFirewallRule -DisplayName "WSL2 Port Bridge" -Direction Inbound -Action Allow -Protocol TCP -LocalPort 80,443,10000,3000,5000
```

> [!NOTE]
> There are some case the firewall rule is not applied directly. So ensure you check it again and again
## Add to [`netsh interface portproxy`](https://learn.microsoft.com/en-us/windows-server/networking/technologies/netsh/netsh-interface-portproxy)

The [`netsh interface portproxy`](https://learn.microsoft.com/en-us/windows-server/networking/technologies/netsh/netsh-interface-portproxy) act as proxies between IPv4 and IPv6 networks and applications. It's establish proxy service in one of the ways is IPv4-configured computer and application messages sent to other IPv4-configured computers and applications.

```powershell
netsh interface portproxy add v4tov4 listenport=80 listenaddress=0.0.0.0 connectport=80 connectaddress=192.168.48.167
```

 > Change `connectadress=<ip_address>` following the wsl2 IP's. 

## Allow inbound connection ([Hyper-V firewall](https://learn.microsoft.com/en-us/windows/security/operating-system-security/network-security/windows-firewall/hyper-v-firewall)) 

> Do not know are this command it's needs to be run or not

```powershell
Set-NetFirewallHyperVVMSetting -Name '{40E0AC32-46A5-438A-A0B2-2B479E8F2E90}' -DefaultInboundAction Allow
```

---

https://learn.microsoft.com/en-us/windows/wsl/networking